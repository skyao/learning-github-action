---
title: "理解Github Actions"
date: 2022-01-24
weight: 10
description: >
  学习GitHub Actions的基础知识，包括核心概念和基本术语。
---



## 概览

GitHub Actions是一个持续集成和持续交付（CI/CD）平台，允许你自动构建、测试和部署管道。你可以创建工作流(workflow)来构建和测试你仓库的每一个拉动请求，或者将合并的拉动请求部署到生产中。

GitHub Actions 不仅仅是 DevOps，还可以让你在仓库中发生其他事件时运行工作流(workflow)。例如，你可以运行一个工作流(workflow)，当有人在你的仓库中创建一个新问题时，自动添加相应的标签。

GitHub提供了Linux、Windows和macOS虚拟机来运行你的工作流(workflow)，或者你可以在自己的数据中心或云基础设施中托管自己的自营运行器(runner)。

## GitHub Actions 的组件

你可以配置一个GitHub Actions的*工作流(workflow)*，以便在你的仓库发生*事件(event)*时被触发，例如拉动请求被打开或问题被创建。你的工作流包含一个或多个*作业(job)*，可以按顺序运行，也可以并行运行。每个作业(job)将在它自己的虚拟机*运行器(runner)*内运行，或在一个容器内运行，并有一个或多个*步骤(step)*，可以运行你定义的脚本或运行一个*动作(action)*，这是一个可重复使用的扩展，可以简化你的工作流(workflow)。

![](https://docs.github.com/assets/cb-25628/images/help/images/overview-actions-simple.png)

### 工作流/workflow

工作流(workflow)是一个可配置的自动流程，它将运行一个或多个作业(job)。工作流是由提交到版本库的YAML文件定义的，当被版本库中的事件触发时就会运行，也可以手动触发，或者按照定义的时间表运行。

在一个版本库中可以有多个工作流，每个工作流可以执行一组不同的步骤(step)。例如，你可以有一个工作流来构建和测试拉动请求，另一个工作流在每次创建发行版时部署你的应用程序，还有一个工作流在每次有人打开一个新问题时添加一个标签。

### 事件/event

事件(event)是存储库中触发工作流运行的特定活动。例如，当有人创建拉动请求、打开问题或向仓库推送提交时，活动可以来自 GitHub。你也可以通过发布 REST API 或手动来触发工作流的运行。

### 作业/job

工作(job)是工作流程中的一组步骤(step)，在同一个运行器上执行。每个步骤要么是一个将被执行的shell脚本，要么是一个将被运行的动作(action)。步骤(step)是按顺序执行的，并且相互依赖。由于每个步骤都在同一个运行器上执行，你可以从一个步骤到另一个步骤共享数据。例如，你可以有一个构建应用程序的步骤，然后是测试已构建的应用程序的步骤。

你可以配置作业(job)与其他作业的依赖关系；默认情况下，作业没有依赖关系，并且相互平行运行。当作业对另一个作业有依赖性时，它将等待被依赖的作业完成后才能运行。例如，你可能有多个针对不同架构的构建作业，这些作业没有依赖关系，而打包作业则依赖于这些作业。构建作业将并行运行，当它们全部成功完成后，打包作业将运行。

### 动作/action

动作(action)是GitHub action平台的一个自定义应用程序，它可以执行复杂但经常重复的任务。使用动作(action)将帮助减少你在工作流文件中写的重复代码的数量。动作可以从GitHub提取你的git仓库，为你的构建环境设置正确的工具链，或者为你的云提供商设置认证。

你可以编写自己的动作，也可以在GitHub市场上找到工作流中使用的动作。

### 运行器/runner

运行器(runner)是一个服务器，当你的工作流被触发时运行器将运行它们。每个运行器一次可以运行一个作业(job)。GitHub提供Ubuntu Linux、Microsoft Windows和macOS运行器来运行你的工作流；每个工作流运行都在一个新的、新配置的虚拟机中执行。如果你需要一个不同的操作系统或需要一个特定的硬件配置，你可以托管自己的运行程序。

